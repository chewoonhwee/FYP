<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		body {
			margin: 0;
			padding: 0;
			font-family: Arial, sans-serif;
			background-color: #f7f7f7;
		}

		#topbar {
			background-color: #2c3e50;
			color: #fff;
			padding: 10px;
			text-align: right;
		}

		#sidebar {
			width: 240px;
			background-color: #2c3e50;
			color: #fff;
			height: 100vh;
			position: fixed;
			top: 40px; /* Adjust the top position to account for the top bar */
		}

		#sidebar ul {
			list-style-type: none;
			padding: 0;
			margin: 0;
		}

		#sidebar ul li {
			padding: 20px;
			cursor: pointer;
			transition: background-color 0.3s ease;
		}

		#sidebar ul li:hover {
			background-color: #34495e;
		}

		#sidebar ul li a {
			color: #fff;
			text-decoration: none;
		}

		#content {
			margin-left: 240px;
			padding: 20px;
		}

		h1 {
			color: #333;
		}
	</style>
</head>
<body>
    <div id="topbar">
      <span id="username">Hi, </span>
      <button id="logoutBtn">Logout</button> <!-- Added logout button -->
    </div>
    </div>
    <div id="sidebar">
      <ul>
        <li><a href="leave.html">Leave Application</a></li>
        <li><a href="clockCorrection.html">Clock Correction</a></li>
        <li><a href="rawCardScanning.html">Raw Card Scanning</a></li>
        <li><a href="attendance.html"></a></li>
        <li><a href="reports.html"></a></li>
      </ul>
    </div>
    <div id="content">
      <h1>Welcome to the HR System</h1>
    </div>
	
    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
	// Your web app's Firebase configuration
	const firebaseConfig = {
		// Your Firebase config details
    apiKey: "AIzaSyB8YctrbNi5lFn0Mvv8VDYp8rEPabEs1Vw",
    authDomain: "cloud-based-hrms-system.firebaseapp.com",
    projectId: "cloud-based-hrms-system",
    storageBucket: "cloud-based-hrms-system.appspot.com",
    messagingSenderId: "596260893240",
    appId: "1:596260893240:web:01be54c76eac3613d42ccd",
    measurementId: "G-8R50BJCTE0"
	};

	// Initialize Firebase
	const app = initializeApp(firebaseConfig);
	const auth = getAuth();

	// Handle authentication state changes
	auth.onAuthStateChanged(function(user) {
        if (user) {
        // User is signed in
        document.getElementById("username").textContent = "Hi, " + user.email;

        // Logout button click event
        document.getElementById("logoutBtn").addEventListener("click", function() {
          signOut(auth).then(function() {
            // Redirect to login page
            window.location.href = "login.html";
          }).catch(function(error) {
            console.log("Error signing out:", error);
          });
        });
      } else {
        // User is signed out
        document.getElementById("username").textContent = "Hi, Guest";
      }
    });
	
</script>
<script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
<df-messenger
  intent="WELCOME"
  chat-title="HRMS"
  agent-id="9dc53705-e764-4510-9431-e929732fdae0"
  language-code="en"
></df-messenger>
</body>
</html>
